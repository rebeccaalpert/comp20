<!DOCTYPE html>

<html>

<head>
	<title>Captain's Log</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script>
		$(window).load(function() { // display stored messages
			$.each(localStorage, function(key, value){
				output = "<p>" + key + " - " + value + "</p>\n";
				$('#log').prepend(output);
			});
		});

	    $(document).ready(function(){
	    	$("#msg").keypress(function(event) {
  				if (event.which == 13) { // 13 == return key
     				event.preventDefault();
     				// Sat Jul 23 02:16:57 2005 - Hello all!
     				var timestamp = new Date();
					var message = $('#msg').val();
        			$('#log').prepend(timestamp+" - "+message+"<br />");
        			localStorage.setItem(timestamp, message);
  				}
  			});
		});
	</script>
</head>

<body>
	<h1>Captain's Log</h1>
	<h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
	<div id="log"></div>
</body>
</html>